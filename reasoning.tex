\section{Proofs of Construction}\label{sec:reasoning}

- logic of state channels. I hold this, which means I can claim that
- involves reasoning about what statements you hold, what statements others hold, what they are capable of

- risks of locking funds
- complicated: sets of agreements, what do they mean?

\subsection{Channel Funding and Value}

- suppose I have a state channel that reaches an outcome
- what does that mean for me
- in particular how much more can I withdraw from the system due to that outcome
- understanding this is key

\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/meaning-of-funding}}
  \caption{
  }\label{fig:meaning-of-funding}
\end{figure}

- there's one case where the answer to these questions is very straightforward
- the case where the channel itself has coins in the adjudicator
- in this case we say the channel is \textbf{directly funded}
- for allocation outcomes, we can further distinguish between partial and fully funded
\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/direct-funding}}
  \caption{
  }\label{fig:direct-funding}
\end{figure}

- but the whole point is to move beyond direct funding
- let's look at another case when it's ok
- suppose that $L$ is not directly funded but $L'$ is
- suppose also that the outcome of $L'$ gives all its coins to $L$
- in this case we've moved in to the situation where $L$ is now directly funded
- we say that $L$ has been \textbf{offloaded}
- from that point onwards we know that outcome of $L$ will be honoured

\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/indirect-funding}}
  \caption{
  }\label{fig:indirect-funding}
\end{figure}

- so far we've been looking at outcomes
- but in a state channel we don't have outcomes
- we can see the state of the adjudicator: direct fundings, finalized outcomes
- we have some private information: private keys, secrets for the channel algorithm (e.g. our ship positions in a game of battleships)
- we have the statements we've received and the statements we've sent

\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/system-state-direct-funding}}
  \caption{
  }\label{fig:system-state-direct-funding}
\end{figure}

- definition of funding
- definition of value


\subsection{Constructing}

- 1. show that a given network funds a channel
- 2. show you can build it step-by-step

second point is important
- single channel updates
- keep that channels are independent - which allows us to reason about finalizability on a per channel basis

simple rule that you can transition between them if you have equal values

\subsection{Unbeatable Strategies}

- unbeatable strategy for obtaining a balance on-chain
- two parts: finalization and redistribution

- finalization is per channel - channels independent
- outcome isn't always determined
\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/multiple-outcomes-possible}}
  \caption{Cool, huh?}
\end{figure}


- more in finalizable outcomes

- redistribution is hard
- need to consider all different possibilities
- develop tools for the protocol to argue about this
- will be done in the turbo / nitro section

- rules

\subsection{Finalizable Outcomes}

- definition in terms of unbeatable strategy

- example: next mover

- different possibilities
  - finalized

- universal finalizability
- two examples
- diagram: FM states
\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/force-move-state-progression}}
  \caption{Cool, huh?}
\end{figure}

- enabled outcomes

\subsection{Consensus Game}

- consensus game if FM application
- deals in outcome. accepted outcome, propose a new one
- has the property that the only two possible outcomes are A and B
\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/consensus-game}}
  \caption{Cool, huh?}
\end{figure}

\subsection{Outcomes First}

- in practice it is hard to write states
- instead we will write outcomes and reason about when you can transition between them

- use special type of channel - consensus game channel


- if I have two network outcomes that differ in the outcome of a single CG channel
- then I can find a sequence of single-update network states that interpolate between them

- write down a sequence of outcomes
- update one channel at a time
- and have the same value to all participants

- the start and conclude states are also finalizable

\begin{figure}[h]\centering
  \makebox[\textwidth][c]{\input{figures/outcomes-setup-conclude}}
  \caption{Cool, huh?}
\end{figure}
